{"_path":"/articles/demo","_dir":"articles","_draft":false,"_partial":false,"_locale":"","title":"http 请求被变成 https 请求","description":"项目开发中新增了用于测试环境的接口地址，替换接口地址后发现始终报错，反复对比 network 面板后发现网络请求地址中的 http 都变成 https 了，由于项目的测试地址是 http 协议的才导致的报错。","cover":"https://p0.meituan.net/csc/ed548b3571dbdcf24c5ad323eb6244ea626140.jpg","date":"2023-06-01T00:00:00.000Z","layout":"article","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"http-请求被变成-https-请求"},"children":[{"type":"text","value":"http 请求被变成 https 请求"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"项目开发中新增了用于测试环境的接口地址，替换接口地址后发现始终报错，反复对比 network 面板后发现网络请求地址中的 http 都变成 https 了，由于项目的测试地址是 http 协议的才导致的报错。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"原因是 "},{"type":"element","tag":"code","props":{"className":""},"children":[{"type":"text","value":"index.html"}]},{"type":"text","value":" 中添加了如下 CSP 内容，自动将 http 的不安全请求升级为 https。"}]},{"type":"element","tag":"pre","props":{"className":"language-html shiki shiki-themes github-light github-dark","code":"<meta http-equiv=\"Content-Security-Policy\" content=\"upgrade-insecure-requests\">\n","language":"html","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#22863A;--shiki-dark:#85E89D"},"children":[{"type":"text","value":"meta"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#6F42C1;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" http-equiv"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"Content-Security-Policy\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#6F42C1;--shiki-dark:#B392F0"},"children":[{"type":"text","value":" content"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"\"upgrade-insecure-requests\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"相关链接"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.cnblogs.com/mggahui/p/13932906.html","rel":["nofollow"]},"children":[{"type":"text","value":"http 请求被变成https请求 - 不忘初心dbsdxq - 博客园 (cnblogs.com)"}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:articles:demo.md","_source":"content","_file":"articles/demo.md","_extension":"md"}